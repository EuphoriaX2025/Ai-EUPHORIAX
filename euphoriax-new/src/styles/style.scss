////////////////////////////////////////////////////////////////
// Bootstrap 5 & Plugins
////////////////////////////////////////////////////////////////
@import 'bootstrap/dist/css/bootstrap.min.css';
@import url('https://cdn.jsdelivr.net/npm/splide@4.1.4/dist/css/splide.min.css');
@import url('https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css');

////////////////////////////////////////////////////////////////
// Template Base
////////////////////////////////////////////////////////////////
@import './mobile-wallet.css';
@import '../assets/css/style.css';
@import 'font';
@import 'variables';
@import 'body';
@import 'layout/header';
@import 'layout/bottomMenu';
@import 'layout/content';
@import 'layout/sidebar';
@import 'layout/footer';
@import 'ui';
@import 'blocks';
@import 'rtl';
@import 'darkmode';


//================================================================//
//                                                                //
//     بخش کدهای سفارشی و بهینه‌سازی‌های آریون کدنوس کاسموس       //
//                                                                //
//================================================================//


/*
----------------------------------------------------------------
1. انیمیشن لودینگ سراسری
----------------------------------------------------------------
*/
@keyframes scale-up-down {
  0%, 100% {
    transform: scale(0.9);
    opacity: 0.7;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
}

#loader .loading-icon {
    animation: scale-up-down 1.5s infinite ease-in-out !important;
}


/*
----------------------------------------------------------------
2. استایل‌های صفحه پکیج‌ها (Cosmic Cards)
----------------------------------------------------------------
*/

/* --- نسبت ابعاد کارت‌ها --- */
.packages-page .card-block {
    height: auto !important;
    aspect-ratio: 85.6 / 53.98;
    width: 100%;
    display: flex;
    flex-direction: column;
}

.packages-page .card-block .card-main {
    flex-grow: 1;
}

/* --- استایل پایه و افکت هاور کارت‌ها --- */
.card-block {
    color: #FFFFFF !important;
    transition: transform 0.4s ease, box-shadow 0.4s ease !important;
    overflow: hidden !important;
    padding: 16px !important;
}
.card-block:hover {
    transform: translateY(-8px) scale(1.03) !important;
    box-shadow: 0 15px 45px rgba(0,0,0,0.25) !important;
}
.card-main {
    position: relative;
    overflow: hidden;
}

/* --- استایل‌های رنگ‌بندی کارت‌ها --- */
.card-classic-s1 { background: radial-gradient(ellipse at 70% 30%, #3a7c8e 0%, transparent 50%), radial-gradient(ellipse at 30% 80%, #1e3a5f 0%, transparent 60%), #0d1226 !important; }
.card-vip-s1 { background: radial-gradient(ellipse at 50% 50%, #00d1a3 0%, #0c3d3e 80%), #05141e !important; }
.card-classic-s2 { background: radial-gradient(ellipse at 70% 80%, #5a6d8c 0%, transparent 60%), radial-gradient(ellipse at 30% 20%, #b26c45 0%, transparent 50%), #0b1023 !important; }
.card-vip-s2 { background: radial-gradient(circle at 50% 50%, #2f2757 0%, #a258a4 60%, #e7846d 90%), #100f24 !important; }
.card-classic-s3 { background: radial-gradient(ellipse at 80% 20%, #faff78 0%, transparent 50%), radial-gradient(ellipse at 20% 80%, #68e673 0%, transparent 60%), #062e15 !important; }
.card-vip-s3 { background: radial-gradient(circle at 50% 50%, #0f3939 0%, #16655c 60%, #44f0c9 90%), #021a20 !important; }
.card-classic-s4 { background: radial-gradient(ellipse at 50% 50%, #ff8c4f 0%, #2c72be 60%), #080d24 !important; }
.card-vip-s4 { background: radial-gradient(ellipse at 50% 50%, #e65cff 0%, #4b2d9b 60%), #040221 !important; }
.card-classic-s5 { background: radial-gradient(ellipse at 50% 50%, #ffdadd 0%, #d42e61 50%), #4d001c !important; }
.card-vip-s5 { background: radial-gradient(circle at 20% 30%, #ff2a6d 0%, #5a001d 50%), radial-gradient(circle at 80% 70%, #ff2a6d 0%, #5a001d 50%), #000000 !important; }
.card-classic-s6 { background: radial-gradient(ellipse at 50% 50%, #FFD700 0%, #FFB300 50%), #1c1000 !important; }
.card-vip-s6 { background: radial-gradient(ellipse at 70% 30%, #ffcc00 0%, transparent 60%), radial-gradient(ellipse at 30% 70%, #ff6600 0%, transparent 50%), #1a0800 !important; }
.card-classic-s7 { background: conic-gradient(from 90deg at 50% 50%, #ff00ff, #00ffff, #ffff00, #ff00ff) !important; }
.card-vip-s7 { background: radial-gradient(ellipse at center, #000 15%, transparent 60%), conic-gradient(from 180deg at 50% 50%, #6a0dad, #0000ff, #00ffff, #ff00ff, #6a0dad) !important; animation: holo-glow 8s linear infinite; }
@keyframes holo-glow { from { filter: hue-rotate(0deg); } to { filter: hue-rotate(360deg); } }



body.dark-mode .report-table-container .table {
    color: #c7c7c7;
}
body.dark-mode .report-table-container .table thead th {
    color: #8f82a5;
}
body.dark-mode .report-table-container .empty-row td {
    color: #8f82a5;
}

/* ================================================================ */
/* === اصلاح نهایی و قطعی رنگ متن گزارش در تم تاریک === */
/* ================================================================ */

/* --- استایل‌های اصلی جدول گزارش --- */
.report-table-container .table {
    color: #4F5050; /* رنگ پیش‌فرض متن در تم روشن */
}
.report-table-container .table thead th {
    color: #958d9e;
    font-weight: 500;
}
.report-table-container .empty-row td {
    text-align: center;
    padding: 20px;
    color: #958d9e;
}


/* --- فرمان‌های قاطع برای تم تاریک --- */

/* استایل دادن به متن کل جدول */
body.dark-mode .report-table-container .table,
body.dark-mode .report-table-container .table td,
body.dark-mode .report-table-container .table th {
    color: #e0e0e0 !important; /* رنگ روشن اصلی برای متن */
}

/* استایل دادن به هدر جدول */
body.dark-mode .report-table-container .table thead th {
    color: #a9a4c4 !important; /* رنگ روشن‌تر برای هدر */
}

/* استایل دادن به متن حالت خالی */
body.dark-mode .report-table-container .empty-row td {
    color: #8f82a5 !important;
}

/* استایل دادن به تمام متن‌های داخل کارت خلاصه */
body.dark-mode .report-summary-card .card-body,
body.dark-mode .report-summary-card .card-body div {
    color: #e0e0e0 !important;
}

/* استایل دادن به متن‌های خاکستری (muted) */
body.dark-mode .report-summary-card .card-body .text-muted {
    color: #a9a4c4 !important;
}

/* استایل دادن به خط جداکننده */
body.dark-mode .report-summary-card .card-body hr {
    background-color: #372648 !important;
    opacity: 0.5 !important;
}


/*
----------------------------------------------------------------
4. بهینه‌سازی‌های آیکون منوی پایین
----------------------------------------------------------------
*/
.saturn-icon-static-rotate {
  transform: rotate(-25deg);
  transition: transform 0.3s ease;
}
.item.active .saturn-icon-static-rotate {
  transform: rotate(0deg);
}


/*
----------------------------------------------------------------
5. استایل‌های تکامل یافته‌ی هاب صرافی
----------------------------------------------------------------
*/

// متغیرهای رنگی برای تم‌ها
$exchange-bg-dark: #0f0b21;
$exchange-input-bg-dark: #1f1b33;
$exchange-border-dark: rgba(118, 79, 234, 0.5);
$exchange-text-dark: #e0e0e0;

$exchange-bg-light: #f4f5f7;
$exchange-input-bg-light: #ffffff;
$exchange-border-light: #e1e1e1;
$exchange-text-light: #1a1a1a;

.exchange-page-container {
    background: $exchange-bg-light;
    padding-top: 20px;
    min-height: 100vh;
}

body.dark-mode .exchange-page-container {
    background: $exchange-bg-dark;
}

.exchange-box {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
}

.exchange-input-group {
    background-color: $exchange-input-bg-light;
    border: 1px solid $exchange-border-light;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    border-radius: 16px;
    padding: 15px;
    margin-bottom: 8px;

    body.dark-mode & {
        background-color: $exchange-input-bg-dark;
        border-color: $exchange-border-dark;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    }
}

.exchange-input-group .input-row {
    display: flex;
    align-items: center;
    gap: 15px;

    input {
        background: transparent !important;
        border: none !important;
        color: $exchange-text-light !important;
        font-size: 1.8rem;
        font-weight: 700;
        width: 100%;
        padding: 0 !important;
        
        body.dark-mode & {
            color: $exchange-text-dark !important;
        }
    }
    
    .currency-selector {
        font-size: 1.6rem;
        font-weight: 700;
        cursor: pointer;
        padding: 5px;
        color: $exchange-text-light;
        
        body.dark-mode & {
            color: $exchange-text-dark;
        }
    }
}

@keyframes magnetic-pulse-swap {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.4); }
  70% { transform: scale(1.1); box-shadow: 0 0 0 15px rgba(255, 193, 7, 0); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 193, 7, 0); }
}

.btn-swap-container {
    margin: -28px 0;
    position: relative;
    z-index: 2;
}
.btn-swap-pulse {
    width: 60px;
    height: 60px;
    font-size: 1.8rem;
    background: linear-gradient(45deg, #FFD700, #FFA500);
    border: 3px solid #fff;
    color: #333;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    animation: magnetic-pulse-swap 2s infinite;
    
    body.dark-mode & {
        border-color: $exchange-input-bg-dark;
    }
}

.exchange-info-box {
    font-size: 0.9rem;
}
/* ================================================================ */
/* === استایل برای نام کاربری قابل ویرایش در سایدبار === */
/* ================================================================ */

.username-input {
    background: transparent;
    border: none;
    color: inherit; /* ارث‌بری رنگ از والد */
    font-weight: 700;
    font-size: 1rem;
    padding: 0;
    width: 100%;
}

.username-input:focus {
    outline: none; /* حذف حاشیه آبی در زمان فوکوس */
    background-color: rgba(255, 255, 255, 0.1); /* یک پس‌زمینه ملایم برای نشان دادن حالت ویرایش */
    border-radius: 4px;
}
/* ================================================================ */
/* === اصلاح نهایی سایدبار و لایه‌ها === */
/* ================================================================ */

/*
  فرمان ۱: بالا بردن لایه سایدبار
  این کد تضمین می‌کند که سایدبار همیشه روی هاله‌ی تیره قرار بگیرد.
*/
.panelbox {
    z-index: 1051 !important; /* یک عدد بالاتر از z-index پیش‌فرض backdrop */
}

/*
  فرمان ۲: استایل برای نام کاربری قابل ویرایش
*/
.username-input {
    background: transparent;
    border: none;
    color: inherit; /* ارث‌بری رنگ از والد */
    font-weight: 700;
    font-size: 1rem;
    padding: 0;
    width: 100%;
}

.username-input:focus {
    outline: none; /* حذف حاشیه آبی در زمان فوکوس */
    background-color: rgba(255, 255, 255, 0.1); /* یک پس‌زمینه ملایم برای نشان دادن حالت ویرایش */
    border-radius: 4px;
}
/* ================================================================ */
/* === استایل برای نام کاربری قابل ویرایش در سایدبار (نسخه نهایی) === */
/* ================================================================ */

.username-edit-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.username-input {
    background: transparent;
    border: none;
    color: #27173E; /* رنگ پیش‌فرض برای تم روشن */
    font-weight: 700;
    font-size: 1rem;
    padding: 0;
    width: 100%;
    padding-right: 20px; /* ایجاد فضا برای آیکون قلم */
}

body.dark-mode .username-input {
    color: #FFFFFF; /* بهبود ۴: رنگ سفید در تم تاریک */
}

.username-input:focus {
    outline: none;
    background-color: rgba(0, 0, 0, 0.1);
    border-radius: 4px;
}

body.dark-mode .username-input:focus {
    background-color: rgba(255, 255, 255, 0.1);
}

.username-edit-wrapper .edit-icon {
    position: absolute;
    right: 0;
    font-size: 14px;
    color: #a9a4c4;
    opacity: 0.5;
    pointer-events: none; /* آیکون قابل کلیک نیست */
}
/* ================================================================ */
/* === بهینه‌سازی نهایی پورتفولیو === */
/* ================================================================ */

.portfolio-list-item .in {
    // بهبود ۱: جابجایی ستون‌ها با استفاده از Flexbox
    justify-content: space-between; 
    align-items: center;
}

.portfolio-list-item .asset-details {
    // این بخش اکنون در سمت چپ قرار دارد
    text-align: left;
}

.portfolio-list-item .asset-identity {
    // این بخش اکنون در سمت راست قرار دارد
    display: flex;
    align-items: center;
    justify-content: flex-end;
}

.portfolio-list-item .coin-logo {
    // بهبود ۲: استایل لوگوی دایره‌ای
    width: 32px;
    height: 32px;
    border-radius: 50%;
    margin-left: 12px; // فاصله از نام ارز
}

.portfolio-list-item .change-indicator {
    // بهبود ۳: استایل درصد تغییرات
    font-size: 11px;
    font-weight: 500;
    margin-left: 8px; // فاصله از ارزش دلاری
}